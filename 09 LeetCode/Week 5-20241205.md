# æ¯å‘¨æ€»ç»“ï¼ˆ2024.11.15ï½2024.12.4ï¼‰

## åŒºé—´

### [æ±‡æ€»åŒºé—´](https://leetcode.cn/problems/summary-ranges/)

- å£°æ˜ä¸¤ä¸ªæ•°ç»„temp å’Œ res åˆ†åˆ«ç”¨äºå­˜å‚¨å½“å‰åŒºé—´å’Œæ‰€æœ‰å·²ç»åˆå¹¶çš„åŒºé—´

  - temp åŒ…å«ä¸¤ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«è¡¨ç¤ºå½“å‰åŒºé—´çš„èµ·å§‹å€¼å’Œç»“æŸå€¼

  - æ ¹æ®é¢˜ç›®è¦æ±‚å¯¹ res ä¸­çš„åŒºé—´è¿›è¡Œæ ¼å¼åŒ–åä½œä¸ºç»“æœè¿”å›

- ä½¿ç”¨ for...of å¾ªç¯éå†æ•°ç»„ nums

- å¯¹äºæ¯ä¸ªå…ƒç´  numï¼Œé¦–å…ˆåˆ¤æ–­ temp æ˜¯å¦ä¸ºç©º

  - å¦‚æœä¸ºç©ºï¼Œå°† num èµ‹å€¼ç»™ temp çš„èµ·å§‹å€¼å’Œç»“æŸå€¼

    ```js
    if (!temp.length) {
      temp = [num, num]
    }
    ```

  - å¦‚æœä¸ä¸ºç©ºï¼Œåˆ¤æ–­ num æ˜¯å¦ä¸ temp çš„ç»“æŸå€¼è¿ç»­

    - å¦‚æœè¿ç»­ï¼Œæ›´æ–° temp çš„ç»“æŸå€¼ä¸º num

      ```js
      if (num === temp[1] + 1) {
        temp[1] = num
      }
      ```

    - å¦‚æœä¸è¿ç»­ï¼Œå°† temp åˆå¹¶åˆ° res ä¸­ï¼Œå¹¶å°† num èµ‹å€¼ç»™ temp çš„èµ·å§‹å€¼å’Œç»“æŸå€¼

      ```js
      res.push(temp)
      temp = [num, num]
      ```

### [åˆå¹¶åŒºé—´](https://leetcode.cn/problems/merge-intervals/)

- ä½¿ç”¨ sort æ–¹æ³•å¯¹ intervals æ•°ç»„æŒ‰ç…§æ¯ä¸ªåŒºé—´çš„èµ·å§‹å€¼è¿›è¡Œå‡åºæ’åº

  ```js
  intervals.sort((a, b) => a[0] - b[0])
  ```

- å£°æ˜ä¸€ä¸ªæ•°ç»„ res ç”¨äºå­˜å‚¨åˆå¹¶åçš„åŒºé—´

- å£°æ˜ä¸€ä¸ªæ•°ç»„ current ç”¨äºå­˜å‚¨å½“å‰åŒºé—´

- for å¾ªç¯å¯¹æ•°ç»„ intervals è¿›è¡Œéå†

- å¯¹äºæ¯ä¸€ä¸ªåŒºé—´ interval[i]ï¼Œåˆ¤æ–­å½“å‰åŒºé—´æ˜¯å¦ä¸å½“å‰åŒºé—´æœ‰äº¤é›†

  - å¦‚æœæœ‰äº¤é›†ï¼Œå°†å½“å‰åŒºé—´ä¸å½“å‰åŒºé—´åˆå¹¶

    ```js
    if (current[1] >= interval[i][0]) {
      current[1] = Math.max(current[1], interval[i][1])
    }
    ```

  - å¦‚æœæ²¡æœ‰äº¤é›†ï¼Œå°†å½“å‰åŒºé—´åŠ å…¥ res æ•°ç»„ä¸­ï¼Œå¹¶å°†å½“å‰åŒºé—´æ›´æ–°ä¸º interval[i]

    ```js
    res.push([...current])
    current = [...interval[i]]
    ```

### [æ’å…¥åŒºé—´](https://leetcode.cn/problems/insert-interval/)

- å£°æ˜2ä¸ªå˜é‡

  - i â€”â€” å½“å‰åŒºé—´çš„ç´¢å¼•ï¼Œåˆå§‹å€¼ä¸º 0

  - res â€”â€” å­˜å‚¨åˆå¹¶åçš„åŒºé—´çš„æ•°ç»„ï¼Œåˆå§‹å€¼ä¸º []

- ç¬¬ä¸€ä¸ª while å¾ªç¯ï¼Œç”¨äºå°† intervals ä¸­æ‰€æœ‰ä¸ newInterval ä¸é‡å çš„åŒºé—´åŠ å…¥ res æ•°ç»„ä¸­

  ```js
  while (i < intervals.length && intervals[i][1] < newInterval[0]) {
    res.push(intervals[i++])
  }
  ```

- ç¬¬äºŒä¸ª while å¾ªç¯ï¼Œç”¨äºå°† intervals ä¸­æ‰€æœ‰ä¸ newInterval é‡å çš„åŒºé—´åˆå¹¶ä¸ºä¸€ä¸ªåŒºé—´ï¼Œå¹¶å°†å…¶åŠ å…¥ res æ•°ç»„ä¸­

  ```js
  while (i < intervals.length && intervals[i][0] <= newInterval[1]) {
    newInterval[0] = Math.min(newInterval[0], intervals[i][0])
    newInterval[1] = Math.max(newInterval[1], intervals[i][1])
    i++
  }

  res.push(newInterval)
  ```

- ç¬¬ä¸‰ä¸ª while å¾ªç¯ï¼Œç”¨äºå°† intervals ä¸­å‰©ä½™çš„åŒºé—´åŠ å…¥ res æ•°ç»„ä¸­

  ```js
  while (i < intervals.length) {
    res.push(intervals[i++])
  }
  ```

### [ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ](https://leetcode.cn/problems/minimum-number-of-arrows-to-burst-balloons/)

- å¯¹æ°”çƒæ°´å¹³ç›´å¾„çš„åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹è¿›è¡Œå‡åºæ’åº

  ```js
  points.sort((a, b) => a[0] - b[0])
  ```

- æœ¬è´¨æ˜¯æ±‚åŒºé—´çš„äº¤é›†çš„ä¸ªæ•°

- å£°æ˜ä¸¤ä¸ªä¸ªå˜é‡

  - res ç”¨äºå­˜å‚¨ç®­çš„æ•°é‡ï¼Œåˆå§‹å€¼ä¸º 1

  - current ç”¨äºå­˜å‚¨å½“å‰åŒºé—´çš„ï¼Œåˆå§‹å€¼ä¸º points[0]

- for å¾ªç¯éå† points æ•°ç»„ï¼Œä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹

  ```js
  for (let i = 1; i < points.length; i++) {}
  ```

- å¯¹äºæ¯ä¸€ä¸ªåŒºé—´ points[i]ï¼Œåˆ¤æ–­å½“å‰åŒºé—´æ˜¯å¦ä¸å½“å‰åŒºé—´æœ‰äº¤é›†

- å¦‚æœæœ‰äº¤é›†

  - æ›´æ–°å½“å‰åŒºé—´çš„å·¦ç«¯ç‚¹ä¸ºå½“å‰åŒºé—´å’Œ points[i] å·¦ç«¯ç‚¹çš„è¾ƒå¤§å€¼

  - æ›´æ–°å½“å‰åŒºé—´çš„å³ç«¯ç‚¹ä¸ºå½“å‰åŒºé—´å’Œ points[i] å³ç«¯ç‚¹çš„è¾ƒå°å€¼

    ```js
    if (points[i][0] <= curr[1]) {
      curr[0] = Math.max(curr[1], points[i][0])
      curr[1] = Math.min(curr[1], points[i][1])
    }
    ```

- å¦‚æœæ²¡æœ‰äº¤é›†

  - å°† res åŠ  1

  - æ›´æ–°å½“å‰åŒºé—´ä¸º points[i]

    ```js
    res++
    curr = [...points[i]]
    ```

## æ ˆ

### [æœ‰æ•ˆçš„æ‹¬å·](https://leetcode.cn/problems/valid-parentheses/)

- å£°æ˜ä¸€ä¸ªæ ˆ stack ç”¨äºå­˜å‚¨å·¦æ‹¬å·

- for å¾ªç¯éå†å­—ç¬¦ä¸² s

  ```js
  for (const c of s)
  ```

- æ¯æ¬¡å¾ªç¯éƒ½å£°æ˜ä¸€ä¸ªå˜é‡ top ç”¨äºå­˜å‚¨æ ˆé¡¶å…ƒç´ 

  ```js
  const top = stack[stack.length - 1]
  ```

- ä½¿ç”¨ switch è¯­å¥åˆ¤æ–­å½“å‰å­—ç¬¦ c

  - å¦‚æœ c æ˜¯å·¦æ‹¬å·ï¼Œå°†å…¶å…¥æ ˆ

    ```js
    case '(':
    case '[':
    case '{':
      stack.push(c)
      break
    ```

  - å¦‚æœ c æ˜¯å³æ‹¬å·ï¼Œåˆ¤æ–­æ ˆé¡¶å…ƒç´ æ˜¯å¦ä¸å½“å‰å­—ç¬¦åŒ¹é…

    - å¦‚æœä¸åŒ¹é…ï¼Œè¿”å› false

    - å¦‚æœåŒ¹é…ï¼Œå°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆ

      ```js
      case ')':
      case ']':
      case '}':
        if (top !== ') or ] or ï¼‰') {
          return false
        }
        stack.pop()
        break
      ```

- æœ€ååˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º â€”â€” return stack.length === 0

### [ç®€åŒ–è·¯å¾„](https://leetcode.cn/problems/simplify-path/)

- å£°æ˜ä¸€ä¸ªæ ˆ stack ç”¨äºå­˜å‚¨è·¯å¾„

- ä½¿ç”¨ split æ–¹æ³•å°†è·¯å¾„æŒ‰ç…§ / åˆ†å‰²æˆæ•°ç»„

  ```js
  const pathArr = path.split('/')
  ```

- for å¾ªç¯éå†æ•°ç»„ pathArr

  ```js
  for (const p of pathArr)
  ```

- ä½¿ç”¨ switch è¯­å¥åˆ¤æ–­å½“å‰å­—ç¬¦ p

  - å¦‚æœ p æ˜¯. æˆ–è€…ç©ºå­—ç¬¦ä¸²ï¼Œè·³è¿‡

    ```js
    case '.':
    case '':
      break
    ```

  - å¦‚æœ p æ˜¯..ï¼Œå°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆ

    ```js
    case '..':
      stack.pop()
      break
    ```

  - å¦‚æœ p æ˜¯å…¶ä»–å­—ç¬¦ï¼Œå°†å…¶å…¥æ ˆ

    ```js
    default:
      stack.push(p)
      break
    ```

- ä½¿ç”¨æ¨¡ç‰ˆå­—ç¬¦ä¸²å’Œ join æ–¹æ³•å°†æ ˆä¸­çš„å…ƒç´ æ‹¼æ¥æˆè·¯å¾„

### [æœ€å°æ ˆ](https://leetcode.cn/problems/min-stack/)

- æ„é€ å‡½æ•° MinStack ä¸­å£°æ˜ä¸¤ä¸ªæ ˆ stack å’Œ minStack

  ```js
  this.data = []
  this.minData = []
  ```

- å¯¹äº MinStack.prototype.push æ–¹æ³•

  - å°†å…ƒç´  val å…¥æ ˆ stack

    ```js
    this.data.push(val)
    ```

  - åœ¨ minData æ ˆé¡¶åŠ å…¥ä¸€ä¸ªæ–°çš„å½“å‰æœ€å°å…ƒç´ 

    ```js
    this.minData.push(
      this.minData.length
        ? Math.min(this.minData[this.minData.length - 1], val)
        : val
    )
    ```

- å¯¹äº MinStack.prototype.pop æ–¹æ³•

  - å°† stack æ ˆé¡¶å…ƒç´ å‡ºæ ˆ
  - å°† minData æ ˆé¡¶å…ƒç´ å‡ºæ ˆ

    ```js
    this.data.pop()
    this.minData.pop()
    ```

- å¯¹äº MinStack.prototype.top æ–¹æ³•ï¼Œç›´æ¥è¿”å› stack æ ˆé¡¶å…ƒç´ 

  ```js
  return this.data[this.data.length - 1]
  ```

- å¯¹äº MinStack.prototype.getMin æ–¹æ³•ï¼Œç›´æ¥è¿”å› minData æ ˆé¡¶å…ƒç´ 
  ```js
  return this.minData[this.minData.length - 1]
  ```

## é“¾è¡¨

### [ç¯å½¢é“¾è¡¨](https://leetcode.cn/problems/linked-list-cycle/)

- åŸºæœ¬æ€è·¯ï¼šå¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œå½“å¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œè¯´æ˜é“¾è¡¨ä¸­æœ‰ç¯

- å£°æ˜ä¸¤ä¸ªæŒ‡é’ˆ slow å’Œ fastï¼Œåˆå§‹å€¼éƒ½ä¸º head

- ä½¿ç”¨ while å¾ªç¯

  - ä¸ºäº†ç¡®ä¿ fast å¯ä»¥èµ°ä¸¤æ­¥ï¼Œéœ€è¦åˆ¤æ–­ fast.next å’Œ fast.next.next æ˜¯å¦å­˜åœ¨

    ```js
    while (fast.next && fast.next.next)
    ```

  - å¿«æŒ‡é’ˆ fast æ¯æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆ slow æ¯æ¬¡èµ°ä¸€æ­¥

    ```js
    fast = fast.next.next
    slow = slow.next
    ```

  - å¦‚æœ fast å’Œ slow ç›¸é‡ï¼Œè¯´æ˜é“¾è¡¨ä¸­æœ‰ç¯ï¼Œè¿”å› true

    ```js
    if (fast === slow) return true
    ```

  - å¾ªç¯ç»“æŸåè¡¨ç¤ºé“¾è¡¨ä¸­æ²¡æœ‰ç¯ï¼Œè¿”å› false

### [ä¸¤æ•°ç›¸åŠ ](https://leetcode.cn/problems/add-two-numbers/)

- åŸºæœ¬æ€è·¯ï¼šä½¿ç”¨ä¸€ä¸ªå˜é‡ carry è¡¨ç¤ºè¿›ä½ï¼Œåˆå§‹å€¼ä¸º 0

- åˆ›å»ºä¸€ä¸ªæ–°çš„é“¾è¡¨èŠ‚ç‚¹ node ä½œä¸ºç»“æœé“¾è¡¨çš„å¤´èŠ‚ç‚¹

- å£°æ˜ä¸€ä¸ªå˜é‡ res æŒ‡å‘ç»“æœé“¾è¡¨çš„å¤´èŠ‚ç‚¹ nodeï¼Œres.next å°†ä½œä¸ºç»“æœè¾“å‡º

  ```js
  let node = new ListNode()
  let res = node
  ```

- ä½¿ç”¨ while å¾ªç¯

  - å¾ªç¯æ¡ä»¶ä¸º l1 || l2 || carry â€”â€” l1 å’Œ l2 ä»»ä¸€å­˜åœ¨æ—¢éœ€è¦è¿›è¡Œç›¸åŠ è®¡ç®—ï¼Œè‹¥ l1 å’Œ l2 å‡ä¸å­˜åœ¨ä½†ä»ä½™ç•™è¿›ä½ carry éœ€è¦è®¡ç®—

  - è¿›è¡Œå½“å‰ä½çš„ç›¸åŠ è®¡ç®—

    ```js
    const sum = (l1?.val || 0) + (l2?.val || 0) + carry
    ```

  - å°† sum å¯¹ 10 å–ä½™å¾—åˆ°å½“å‰ä½çš„å€¼ï¼Œå°†å…¶èµ‹å€¼ç»™ node.next

    ```js
    node.next = new ListNode(sum % 10)
    ```

  - node æŒ‡é’ˆã€l1 æŒ‡é’ˆã€l2 æŒ‡é’ˆå‘åç§»åŠ¨ï¼Œæ ¹æ® sum æ›´æ–° carry çš„å€¼

    ```js
    node = node.next
    l1 && (l1 = l1.next)
    l2 && (l2 = l2.next)
    carry = Math.floor(sum / 10)
    ```

### [åˆå¹¶ä¸¤ä¸ªæœ‰åºåˆ—è¡¨](https://leetcode.cn/problems/merge-two-sorted-lists/)

- å› ä¸ç¡®å®šåˆå¹¶åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œå› æ­¤é¢å¤–å£°æ˜ä¸€ä¸ªç©ºèŠ‚ç‚¹ä½œä¸ºå¤´èŠ‚ç‚¹ï¼Œç„¶åå°†å…¶èµ‹å€¼ç»™ node æŒ‡é’ˆ

- å£°æ˜ä¸€ä¸ªå˜é‡ res æŒ‡å‘ç»“æœé“¾è¡¨çš„å¤´èŠ‚ç‚¹ nodeï¼Œres.next å°†ä½œä¸ºç»“æœè¾“å‡º

  ```js
  let node = new ListNode()
  let res = node
  ```

- ä½¿ç”¨ while å¾ªç¯ï¼Œå¾ªç¯æ¡ä»¶ä¸º list1 æˆ– list2 ä»»ä¸€å­˜åœ¨

  ```js
  while (list1 || list2)
  ```

- å¾ªç¯ä¸­æ¯”è¾ƒå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œå°†è¾ƒå°å€¼çš„èŠ‚ç‚¹èµ‹å€¼ç»™ node.nextï¼Œç„¶å node æŒ‡é’ˆã€list1 æŒ‡é’ˆã€list2 æŒ‡é’ˆå‘åç§»åŠ¨

  ```js
  if (list1?.val <= list2?.val) {
    node.next = list1
    node = node.next
    list1 = list1.next
  } else {
    node.next = list2
    node = node.next
    list2 = list2.next
  }
  ```

- ğŸŒŸå…³é”®æ­¥éª¤ â€”â€” å¾ªç¯ç»“æŸåå¦‚æœ list1 æˆ– list2 å­˜åœ¨ï¼Œåˆ™å°†å…¶èµ‹å€¼ç»™ node.nextï¼Œå³å°¾ç‚¹äºå‰©ä½™é“¾è¡¨ç›¸è¿æ¥

  ```js
  list1 && (node.next = list1)
  list2 && (node.next = list2)
  ```

### [éšæœºé“¾è¡¨çš„å¤åˆ¶](https://leetcode.cn/problems/copy-list-with-random-pointer/)

- åŸºæœ¬æ€è·¯ï¼šä½¿ç”¨ Map å­˜å‚¨åŸé“¾è¡¨èŠ‚ç‚¹å’Œæ–°é“¾è¡¨èŠ‚ç‚¹çš„æ˜ å°„å…³ç³»ï¼Œç„¶åä½¿ç”¨ while å¾ªç¯éå†åŸé“¾è¡¨ï¼Œæ ¹æ®æ˜ å°„å…³ç³»å°†æ–°é“¾è¡¨çš„ next æŒ‡é’ˆæŒ‡å‘å¯¹åº”çš„æ–°èŠ‚ç‚¹

- å£°æ˜ä¸€ä¸ª Map ç”¨äºå­˜å‚¨åŸé“¾è¡¨èŠ‚ç‚¹å’Œæ–°é“¾è¡¨èŠ‚ç‚¹çš„æ˜ å°„å…³ç³»ï¼Œkey ä¸ºåŸé“¾è¡¨èŠ‚ç‚¹ï¼Œvalue ä¸ºæ–°é“¾è¡¨èŠ‚ç‚¹

- å£°æ˜ä¸€ä¸ªå˜é‡ node æŒ‡å‘åŸé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head

- ç¬¬ä¸€ä¸ª while å¾ªç¯ â€”â€” éå†åŸé“¾è¡¨ï¼Œåˆ›å»ºæ–°é“¾è¡¨èŠ‚ç‚¹å¹¶å­˜å‚¨åˆ° Map ä¸­

  ```js
  while (node) {
    map.set(node, new ListNode(node.val))
    node = node.next
  }
  ```

- node æŒ‡é’ˆå†æ¬¡æŒ‡å‘åŸé“¾è¡¨çš„å¤´èŠ‚ç‚¹ headï¼Œè¿›è¡Œç¬¬äºŒä¸ª while å¾ªç¯ â€”â€” æ ¹æ®åŸé“¾è¡¨å°†æ–°é“¾è¡¨çš„ next æŒ‡é’ˆ & random æŒ‡é’ˆæŒ‡å‘å¯¹åº”çš„æ–°èŠ‚ç‚¹

  ```js
  node = head

  while (node) {
    map.get(node).random = map.get(node.random) || null
    map.get(node).next = map.get(node.next) || null
    node = node.next
  }
  ```

- è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ â€”â€” map.get(head)

### [åè½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-linked-list/)

- åŸºæœ¬æ€è·¯ï¼šä½¿ç”¨ä¸‰ä¸ªæŒ‡é’ˆ prevã€currã€nxt åˆ†åˆ«è¡¨ç¤ºå‰ä¸€ä¸ªèŠ‚ç‚¹ã€å½“å‰èŠ‚ç‚¹ã€ä¸‹ä¸€ä¸ªèŠ‚ç‚¹

- ä½¿ç”¨ while å¾ªç¯éå†é“¾è¡¨

  ```js
  while (curr)
  ```

- åœ¨å¾ªç¯ä¸­åˆ›å»ºä¸€ä¸ª nxt æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ curr.next ä½œä¸ºè®°å½•ï¼Œä¾¿äºåœ¨å®Œæˆå½“å‰èŠ‚ç‚¹ä¸å‰ä¸€ä¸ªèŠ‚ç‚¹çš„åè½¬æ“ä½œåï¼Œcurr æŒ‡é’ˆèƒ½å¤Ÿç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹

  ```js
  const nxt = curr.next
  curr.next = prev
  prev = curr
  curr = nxt
  ```

- åè½¬å®Œæˆåè¿”å› prev æŒ‡é’ˆï¼Œå³åè½¬åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹

### [åè½¬é“¾è¡¨ II](https://leetcode.cn/problems/reverse-linked-list-ii/)

- åŸºæœ¬æ€è·¯ï¼šå®Œæˆå±€éƒ¨åè½¬é“¾è¡¨çš„æ“ä½œï¼Œç„¶åå°†åè½¬åçš„é“¾è¡¨ä¸åŸé“¾è¡¨è¿æ¥èµ·æ¥

- å› ä¸ºé“¾è¡¨å¤´èŠ‚ç‚¹ä¹Ÿå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå› æ­¤éœ€è¦å£°æ˜ä¸€ä¸ªç©ºèŠ‚ç‚¹ res ä½œä¸ºå¤´èŠ‚ç‚¹

  - ç©ºèŠ‚ç‚¹ res çš„ next æŒ‡é’ˆæŒ‡å‘ head æŒ‡é’ˆï¼Œå³åŸé“¾è¡¨çš„å¤´èŠ‚ç‚¹

  - èµ‹å€¼ç»™ leftPrev æŒ‡é’ˆï¼ŒleftPrev æŒ‡é’ˆå°†ä½œä¸ºåè½¬åçš„é“¾è¡¨çš„å‰ä¸€ä¸ªèŠ‚ç‚¹

- ç¬¬ä¸€ä¸ª for å¾ªç¯çš„å¾ªç¯æ¡ä»¶ä¸º i < left - 1ï¼Œç›®çš„æ˜¯å°†æŒ‡é’ˆ leftPrev æŒ‡å‘ç¬¬ left ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹

  ```js
  let leftPrev = res

  for (let i = 0; i < left - 1; i++) {
    leftPrev = leftPrev.next
  }
  ```

- ç¬¬äºŒä¸ª for å¾ªç¯è¿›è¡Œå±€éƒ¨çš„é“¾è¡¨åè½¬æ“ä½œï¼Œcurr æŒ‡é’ˆæŒ‡å‘ leftPrev çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³ç¬¬ left ä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹

  ```js
  let [prev, curr] = [null, leftPrev.next]

  for (let i = 0; i < right - left + 1; i++) {
    const nxt = curr.next
    curr.next = prev
    prev = curr
    curr = nxt
  }
  ```

- å±€éƒ¨é“¾è¡¨åè½¬åï¼Œéœ€è¦æ‰¾åˆ°å››ä¸ªèŠ‚ç‚¹å°†åè½¬åçš„é“¾è¡¨ä¸åŸé“¾è¡¨è¿æ¥èµ·æ¥

  - å·¦ç¼ºå£å·¦ä¾§çš„èŠ‚ç‚¹ä¸º leftPrev

  - å·¦ç¼ºå£å³ä¾§çš„èŠ‚ç‚¹ä¸º leftPrev.next

  - å³ç¼ºå£å·¦ä¾§çš„èŠ‚ç‚¹ä¸º prev

  - å³ç¼ºå£å³ä¾§çš„èŠ‚ç‚¹ä¸º curr

- å°†å·¦ç¼ºå£å³ä¾§ leftPrev.next â¡ï¸ å³ç¼ºå£å³ä¾§ curr

- å°†å·¦ç¼ºå£å·¦ä¾§ leftPrev â¡ï¸ å³ç¼ºå£å·¦ä¾§ prev

  ```js
  leftPrev.next.next = curr
  leftPrev.next = prev
  ```

### [åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/)

- åŸºæœ¬æ€è·¯ï¼šä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆå…ˆèµ° n æ­¥ï¼Œç„¶åå¿«æ…¢æŒ‡é’ˆä¸€èµ·èµ°ï¼Œå½“å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨å°¾éƒ¨æ—¶ï¼Œæ…¢æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹å³ä¸ºå€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹

- å› ä¸ºå¯èƒ½ä¼šåˆ é™¤å¤´èŠ‚ç‚¹ï¼Œå› æ­¤éœ€è¦å£°æ˜ä¸€ä¸ªç©ºèŠ‚ç‚¹ res ä½œä¸ºå¤´èŠ‚ç‚¹

  - ç©ºèŠ‚ç‚¹ res çš„ next æŒ‡é’ˆæŒ‡å‘ head æŒ‡é’ˆï¼Œå³åŸé“¾è¡¨çš„å¤´èŠ‚ç‚¹

  - èµ‹å€¼ç»™ slow æŒ‡é’ˆï¼Œslow æŒ‡é’ˆå°†ä½œä¸ºå€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹

  - res.next ä½œä¸ºç»“æœè¾“å‡º

- ç¬¬ä¸€æ¬¡ while å¾ªç¯ï¼Œè®©å¿«æŒ‡é’ˆ fast å…ˆèµ° n æ­¥

  ```js
  let fast = res
  while (n--) {
    fast = fast.next
  }
  ```

- ç¬¬äºŒæ¬¡ while å¾ªç¯ï¼Œè®©å¿«æ…¢æŒ‡é’ˆ slow ä¸€èµ·èµ°ï¼Œå½“å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨å°¾éƒ¨æ—¶ï¼Œæ…¢æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹å³ä¸ºå€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹

  ```js
  while (fast.next) {
    fast = fast.next
    slow = slow.next
  }
  ```

- å°†å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹åˆ é™¤ï¼Œå³ slow.next = slow.next.next

### [åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II](https://leetcode.cn/problems/remove-duplicates-from-sorted-list-ii/description/)

- å› ä¸ºå¯èƒ½ä¼šåˆ é™¤å¤´èŠ‚ç‚¹ï¼Œå› æ­¤éœ€è¦å£°æ˜ä¸€ä¸ªç©ºèŠ‚ç‚¹ res ä½œä¸ºå¤´èŠ‚ç‚¹

  - ç©ºèŠ‚ç‚¹ res çš„ next æŒ‡é’ˆæŒ‡å‘ head æŒ‡é’ˆï¼Œå³åŸé“¾è¡¨çš„å¤´èŠ‚ç‚¹
  - res.next ä½œä¸ºç»“æœè¾“å‡º

- ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆ

  - å£°æ˜ä¸€ä¸ªå˜é‡ fast æŒ‡å‘ head æŒ‡é’ˆï¼Œfast æŒ‡é’ˆå°†ä½œä¸ºé‡å¤å…ƒç´ çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹

  - å£°æ˜ä¸€ä¸ªå˜é‡ slow æŒ‡å‘ res æŒ‡é’ˆï¼Œslow æŒ‡é’ˆå°†ä½œä¸ºé‡å¤å…ƒç´ çš„å‰ä¸€ä¸ªèŠ‚ç‚¹

- ä½¿ç”¨ä¸¤å±‚ while å¾ªç¯

  - å¤–å±‚ while å¾ªç¯ï¼Œè®© fast æŒ‡é’ˆéå†é“¾è¡¨

    ```js
    while (fast)
    ```

  - å†…å±‚è¿›è¡Œä¸€æ¬¡ while å¾ªç¯ï¼Œè®© fast æŒ‡é’ˆè·³è¿‡æ‰€æœ‰é‡å¤å…ƒç´ å¹¶æŒ‡å‘æŸä¸ªé‡å¤å…ƒç´ çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³æ ¡éªŒ fast å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸ºé‡å¤å…ƒç´ ä¸”æ˜¯å¦ä¸ºé‡å¤å…ƒç´ çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹

    ```js
    while (fast.next && fast.val === fast.next.val) {
      fast = fast.next
    }
    ```

- å½“å†…å±‚ while å¾ªç¯æ—¶é—´ç»“æŸåï¼Œåˆ¤æ–­ slow.next æ˜¯å¦ç­‰äº fast

  - å¦‚æœç›¸ç­‰ï¼Œåˆ™ slow å’Œ fast ä¹‹é—´ä¸å­˜åœ¨é‡å¤å…ƒç´ ï¼Œslow & fast æŒ‡é’ˆå‘åç§»åŠ¨

    ```js
    if (slow.next === fast) {
      slow = slow.next
      fast = fast.next
    }
    ```

  - å¦‚æœä¸ç›¸ç­‰ï¼Œåˆ™è¯´æ˜ fast ä½äºæŸä¸ªé‡å¤å…ƒç´ çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°† slow.next å’Œ fast æŒ‡å‘ fast.nextï¼Œå³åˆ é™¤å½“å‰é‡å¤å…ƒç´ 

    ```js
    if (slow.next !== fast) {
      slow.next = fast.next
      fast = fast.next
    }
    ```

### [æ—‹è½¬é“¾è¡¨](https://leetcode.cn/problems/rotate-list/)

- è·å–é“¾è¡¨é•¿åº¦ listLength å¹¶è®¡ç®— k % listLengthï¼Œå¾—åˆ°éœ€è¦æ—‹è½¬çš„æ­¥æ•°

  ```js
  let [p, listLenth] = [head, 0]

  while (p && ++listLength) {
    p = p.next
  }
  let rotateK = k % listLength
  ```

- ç¬¬ä¸€ä¸ª while å¾ªç¯è®©å¿«æŒ‡é’ˆå…ˆèµ° rotateK æ­¥

  ```js
  let [fast, slow] = [head, head]
  while (rotateK--) {
    fast = fast.next
  }
  ```

- ç¬¬äºŒä¸ª while å¾ªç¯ï¼Œè®©å¿«æ…¢æŒ‡é’ˆä¸€èµ·èµ°ï¼Œå½“å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨å°¾éƒ¨æ—¶ï¼Œæ…¢æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹å³ä¸ºæ–°é“¾è¡¨çš„å°¾èŠ‚ç‚¹

  ```js
  while (fast.next) {
    fast = fast.next
    slow = slow.next
  }
  ```

- å°†é“¾è¡¨è¿æˆç¯å†æ–­å¼€

  - å°†é“¾è¡¨åŸå°¾èŠ‚ç‚¹æŒ‡å‘åŸå¤´èŠ‚ç‚¹

    ```js
    fast.next = head
    ```

  - å£°æ˜ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œå³ slow.next

    ```js
    const res = slow.next
    ```

  - å°†æ–°é“¾è¡¨çš„å°¾èŠ‚ç‚¹æŒ‡å‘ nullï¼Œå³ slow.next = null

    ```js
    slow.next = null
    ```

### [åˆ†éš”é“¾è¡¨](https://leetcode.cn/problems/partition-list/)

- åŸºæœ¬æ€è·¯ï¼šä½¿ç”¨ä¸¤ä¸ªé“¾è¡¨ï¼Œä¸€ä¸ªé“¾è¡¨å­˜å‚¨å°äº x çš„èŠ‚ç‚¹ï¼Œä¸€ä¸ªé“¾è¡¨å­˜å‚¨å¤§äºç­‰äº x çš„èŠ‚ç‚¹ï¼Œç„¶åå°†ä¸¤ä¸ªé“¾è¡¨è¿æ¥èµ·æ¥

- åˆ›å»ºä¸¤ä¸ªç©ºèŠ‚ç‚¹ leftList å’Œ rightListï¼Œåˆ†åˆ«ä½œä¸ºä¸¤ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹

- åŒæŒ‡é’ˆ left å’Œ right åˆ†åˆ«æŒ‡å‘ leftList å’Œ rightListï¼Œç”¨äºéå†é“¾è¡¨

- ä½¿ç”¨ while å¾ªç¯éå†é“¾è¡¨

- å¾ªç¯ä¸­æ¯”è¾ƒå½“å‰èŠ‚ç‚¹å€¼ä¸ x çš„å¤§å°å…³ç³»

- å¾ªç¯ç»“æŸåè¿æ¥ä¸¤ä¸ªé“¾è¡¨å¹¶å°† rightList çš„å°¾èŠ‚ç‚¹æŒ‡å‘ null

  ```js
  left.next = rightList.next
  right.next = null
  ```

### [LRU ç¼“å­˜](https://leetcode.cn/problems/lru-cache/)

- æ–°å»ºä¸€ä¸ªç±» ListNodeï¼ŒåŒ…å«å››ä¸ªå±æ€§

  - key

  - value

  - prev â€”â€” æŒ‡å‘è‡ªå·±çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œé»˜è®¤ä¸º null

  - next â€”â€” æŒ‡å‘è‡ªå·±çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé»˜è®¤ä¸º null

    ```js
    class ListNode {
      constructor(key = 0, value = 0) {
        this.key = key
        this.value = value
        this.prev = null
        this.next = null
      }
    }
    ```

- LRUCache æ„é€ å‡½æ•°ä¸­éœ€è¦åŒ…å«äº”ä¸ªå±æ€§

  - capacity

  - count â€”â€” å½“å‰å®ä¾‹ä¸­å·²å­˜å‚¨çš„èŠ‚ç‚¹æ•°

  - hash â€”â€” å­˜å‚¨èŠ‚ç‚¹çš„å“ˆå¸Œè¡¨

  - head â€”â€” æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œå…¶ä¸­å­˜å‚¨çš„æ˜¯æœ€è¿‘ä½¿ç”¨çš„èŠ‚ç‚¹ï¼Œåˆå§‹åŒ– next å±æ€§æŒ‡å‘ tail

  - tail â€”â€” æŒ‡å‘å°¾èŠ‚ç‚¹ï¼Œå…¶ä¸­å­˜å‚¨çš„æ˜¯æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„èŠ‚ç‚¹ï¼Œåˆå§‹åŒ– prev å±æ€§æŒ‡å‘ heah

    ```js
    var LRUCache = function (capacity) {
      this.capacity = capacity
      this.count = 0
      this.hash = new Map()
      this.head = new ListNode()
      this.tail = new ListNode()
      this.head.next = this.tail
      this.tail.prev = this.head
    }
    ```

- éœ€è¦æ·»åŠ ä¸€ä¸ªåŸå‹æ–¹æ³• moveToHeadï¼Œå°†æœ€è¿‘ä½¿ç”¨çš„èŠ‚ç‚¹ç§»åŠ¨åˆ° head

- å¯¹äº LRUCache.prototype.get â€”â€” åœ¨å“ˆå¸Œè¡¨ hash ä¸­æŸ¥è¯¢å¹¶è·å–ï¼ŒåŒæ—¶éœ€è¦è°ƒç”¨ moveToHead æ–¹æ³•å°†è¯¥èŠ‚ç‚¹ç§»åŠ¨åˆ° head

- LRUCache.prototype.put

  - å¦‚æœèŠ‚ç‚¹çš„ key å·²å­˜åœ¨åˆ™æ›´æ–°å…¶å€¼ï¼Œå¹¶ä½¿ç”¨ moveToHead æ–¹æ³•

    ```js
    if (this.hash.has(key)) {
      const node = this.hash.get(key)
      node.value = value
      this.hash.set(key, node)
      this.moveToHead(node)

      return
    }
    ```

  - å¦‚æœèŠ‚ç‚¹çš„ key ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹å¹¶æ·»åŠ åˆ°å“ˆå¸Œè¡¨ä¸­ï¼ŒåŒæ—¶å°†å…¶ç§»åŠ¨åˆ° head

    ```js
    const newNode = new ListNode(key, value)
    this.hash.set(key, newNode)
    newNode.prev = this.head
    newNode.next = this.head.next
    this.head.next.prev = newNode
    this.head.next = newNode
    ```

  - å¦‚æœå½“å‰å®ä¾‹ä¸­å·²å­˜å‚¨çš„èŠ‚ç‚¹æ•° count å¤§äº capacityï¼Œåˆ™åˆ é™¤ tail èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶ä»å“ˆå¸Œè¡¨ä¸­åˆ é™¤

    ```js
    if (++this.count > this.capacity) {
      const lastNode = this.tail.prev
      this.hash.delete(lastNode.key)

      lastNode.prev.next = this.tail
      this.tail.prev = lastNode.prev

      lastNode.prev = null
      lastNode.next = null

      this.count--
    }
    ```
