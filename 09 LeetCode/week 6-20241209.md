# æ¯å‘¨æ€»ç»“ï¼ˆ2024.12.06ï½2024.12.09ï¼‰

æœ¬å‘¨çš„é¢˜ç›®ä¸ºé¢è¯•ç»å…¸ 150 é¢˜ä¸­äºŒå‰æ ‘ä¸“é¡¹ï¼Œå…±è®¡ 21 é¢˜ã€‚

## å±‚åºéå†çš„é€šç”¨è§£æ³•

- åˆå§‹åŒ–ä¸€ä¸ªé˜Ÿåˆ— queueï¼Œå°†æ ¹èŠ‚ç‚¹ root å…¥é˜Ÿ

- å¤–å±‚ä½¿ç”¨ while å¾ªç¯ï¼Œå½“é˜Ÿåˆ— queue ä¸ä¸ºç©ºæ—¶ â€”â€” è®°å½•å½“å‰é˜Ÿåˆ—çš„é•¿åº¦ sizeï¼Œç”¨äºç¡®å®šå½“å‰å±‚çš„èŠ‚ç‚¹æ•°é‡
- å†…å±‚ä½¿ç”¨ for å¾ªç¯éå†å½“å‰å±‚çš„èŠ‚ç‚¹ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

  - å‡ºé˜Ÿé˜Ÿé¦–èŠ‚ç‚¹ node â€”â€” Array.prototype.shift()

  - å¤„ç†èŠ‚ç‚¹ node çš„é€»è¾‘

  - å°† node çš„å·¦ & å³å­èŠ‚ç‚¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰å…¥é˜Ÿ

- å¾ªç¯ç»“æŸåï¼Œé˜Ÿåˆ— queue ä¸ºç©ºï¼Œéå†ç»“æŸ

  ```js
  function levelOrder(root) {
    const queue = [root]

    while (queue.length > 0) {
      const size = queue.length

      for (let i = 0; i < levelSize; i++) {
        const node = queue.shift()

        // å¤„ç†èŠ‚ç‚¹ node çš„é€»è¾‘

        if (node.left) queue.push(node.left)
        if (node.right) queue.push(node.right)
      }
    }
  }
  ```

### [äºŒå‰æ ‘çš„å±‚åºéå†](https://leetcode.cn/problems/binary-tree-level-order-traversal/)

- ä½¿ç”¨ [å±‚åºéå†çš„é€šç”¨è§£æ³•](#å±‚åºéå†çš„é€šç”¨è§£æ³•)

- åœ¨å¤–å±‚ while å¾ªç¯ä¸­å£°æ˜ä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºå­˜å‚¨å½“å‰å±‚çš„èŠ‚ç‚¹å€¼

  ```js
  while (queue.length > 0) {
    const level = []
  }
  ```

- åœ¨å†…å±‚ for å¾ªç¯ä¸­ï¼Œå°†å½“å‰å±‚çš„èŠ‚ç‚¹å€¼å­˜å‚¨åˆ°æ•°ç»„ä¸­

  ```js
  for (let i = 0; i < size; i++) {
    const node = queue.shift()
    level.push(node.val)
  }
  ```

- åœ¨å†…å±‚ for å¾ªç¯ä¸­ï¼Œå½“éå†åˆ°è¯¥å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå°†è¯¥å±‚çš„èŠ‚ç‚¹å€¼æ•°ç»„æ·»åŠ åˆ°ç»“æœæ•°ç»„ä¸­

  ```js
  if (i === size - 1) res.push(level)
  ```

### [äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†](https://leetcode.cn/problems/binary-tree-zigzag-level-order-traversal/)

- ä½¿ç”¨ [å±‚åºéå†çš„é€šç”¨è§£æ³•](#å±‚åºéå†çš„é€šç”¨è§£æ³•)

- å”¯ä¸€ä¸åŒçš„æ˜¯éœ€è¦æ ¹æ®å½“å‰å±‚çš„å¥‡å¶æ€§ï¼Œå†³å®šå°†å½“å‰å±‚çš„èŠ‚ç‚¹å€¼æ•°ç»„æ·»åŠ åˆ°ç»“æœæ•°ç»„çš„å¤´éƒ¨è¿˜æ˜¯å°¾éƒ¨

  - åˆ©ç”¨ç»“æœæ•°ç»„çš„é•¿åº¦ res.length ä¸ 1 è¿›è¡ŒæŒ‰ä½ä¸è¿ç®—ï¼Œåˆ¤æ–­å½“å‰å±‚çš„å¥‡å¶æ€§

  - å½“å‰å±‚ä¸ºå¥‡æ•°ï¼Œåˆ™å°†èŠ‚ç‚¹å€¼æ·»åŠ åˆ°å±‚æ•°ç»„ level çš„å¤´éƒ¨ â€”â€” Array.prototype.unshift()

  - å½“å‰å±‚ä¸ºå¶æ•°ï¼Œåˆ™å°†èŠ‚ç‚¹å€¼æ·»åŠ åˆ°å±‚æ•°ç»„ level çš„å°¾éƒ¨ â€”â€” Array.prototype.push()

    ```js
    if (res.length & 1) {
      level.unshift(node.val)
    } else {
      level.push(node.val)
    }
    ```

### [äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼](https://leetcode.cn/problems/average-of-levels-in-binary-tree/)

- ä½¿ç”¨ [å±‚åºéå†çš„é€šç”¨è§£æ³•](#å±‚åºéå†çš„é€šç”¨è§£æ³•)

- åœ¨å¤–å±‚ while å¾ªç¯ä¸­ï¼Œå£°æ˜ä¸€ä¸ªå˜é‡ sumï¼Œç”¨äºå­˜å‚¨å½“å‰å±‚çš„èŠ‚ç‚¹å€¼ä¹‹å’Œ

- åœ¨å†…å±‚ for å¾ªç¯ä¸­ï¼Œå°†å½“å‰å±‚çš„èŠ‚ç‚¹å€¼ä¹‹å’Œç´¯åŠ åˆ° sum ä¸­

- åœ¨éå†åˆ°è¯¥å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œè®¡ç®—å½“å‰å±‚çš„å¹³å‡å€¼ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç»“æœæ•°ç»„ä¸­

  ```js
  if (i === size - 1) res.push(sum / size)
  ```

### [äºŒå‰æ ‘çš„å³è§†å›¾](https://leetcode.cn/problems/binary-tree-right-side-view/)

- ä½¿ç”¨ [å±‚åºéå†çš„é€šç”¨è§£æ³•](#å±‚åºéå†çš„é€šç”¨è§£æ³•)

- åœ¨å†…å±‚ for å¾ªç¯ä¸­ï¼Œå½“éå†åˆ°è¯¥å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå°†è¯¥èŠ‚ç‚¹çš„å€¼æ·»åŠ åˆ°ç»“æœæ•°ç»„ä¸­

  ```js
  if (i === size - 1) res.push(node.val)
  ```

### [å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°](https://leetcode.cn/problems/count-complete-tree-nodes/)

- ä½¿ç”¨ [å±‚åºéå†çš„é€šç”¨è§£æ³•](#å±‚åºéå†çš„é€šç”¨è§£æ³•)

- åœ¨å¤–å±‚ while å¾ªç¯ä¸­ï¼Œå£°æ˜ä¸€ä¸ªå˜é‡ countï¼Œä¸å½“å‰å±‚çš„èŠ‚ç‚¹æ•°é‡ size ç›¸åŠ 

  ```js
  while (queue.length) {
    const size = queue.length
    count += size
  }
  ```

### [å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ](https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/)

- ä½¿ç”¨ [å±‚åºéå†çš„é€šç”¨è§£æ³•](#å±‚åºéå†çš„é€šç”¨è§£æ³•)

- åœ¨å†…å±‚ for å¾ªç¯ä¸­ï¼Œå°†æ¯ä¸ªèŠ‚ç‚¹ node çš„ next æŒ‡é’ˆæŒ‡å‘è¯¥å±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹

  ```js
  if (i < size - 1) {
    node.next = queue[0]
  }
  ```

### [å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II](https://leetcode.cn/problems/populating-next-right-pointers-in-each-node-ii/)

- è§£æ³•ä¸ [å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ](#å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ) ç›¸åŒ

### [äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦](https://leetcode.cn/problems/maximum-depth-of-binary-tree/)

- ä½¿ç”¨ [å±‚åºéå†çš„é€šç”¨è§£æ³•](#å±‚åºéå†çš„é€šç”¨è§£æ³•)

- åœ¨å¤–å±‚ while å¾ªç¯ä¸­ï¼Œå°†å˜é‡ depth åŠ  1

  ```js
  let depth = 0

  while (queue.length) {
    depth++
  }
  ```

## äºŒå‰æœç´¢æ ‘çš„é€šç”¨è§£æ³•

- å®šä¹‰ï¼š

  - å¯¹äºæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå…¶å·¦å­æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å°äºè¯¥èŠ‚ç‚¹çš„å€¼
  - å¯¹äºæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå…¶å³å­æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºè¯¥èŠ‚ç‚¹çš„å€¼

  - å¯¹äºæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå…¶å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«æ˜¯äºŒå‰æœç´¢æ ‘

- å…³é”®ï¼šäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ç»“æœæ˜¯ä¸€ä¸ªå‡åºçš„æ•°ç»„

- é€šç”¨è§£æ³• â€”â€” ä½¿ç”¨é€’å½’å®ç°ä¸­åºéå†å¾—åˆ°ä¸€ä¸ªå‡åºæ•°ç»„ï¼Œå†æ ¹æ®æ‰€å¾—æ•°ç»„è¿›è¡Œæ“ä½œ

  ```js
  function BST(root) {
    const nodeList = []

    function inorder(root) {
      if (root === null) return

      inorder(root.left)

      // å¤„ç†èŠ‚ç‚¹ root çš„é€»è¾‘
      nodeList.push(root.val)

      inorder(root.right)
    }
    inorder(root)

    // å¤„ç† nodeList çš„é€»è¾‘
  }
  ```

### [éªŒè¯äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/validate-binary-search-tree/)

- ä½¿ç”¨ [äºŒå‰æœç´¢æ ‘çš„é€šç”¨è§£æ³•](#äºŒå‰æœç´¢æ ‘çš„é€šç”¨è§£æ³•) å¾—åˆ°å‡åºæ•°ç»„ nodeList

- éå† nodeListï¼Œåˆ¤æ–­æ•°ç»„ä¸­å½“å‰å…ƒç´ æ˜¯å¦å¤§äºå‰ä¸€ä¸ªå…ƒç´ 

  ```js
  for (let i = 1; i < nodeList.length; i++) {
    if (nodeList[i] <= nodeList[i - 1]) return false
  }

  return true
  ```

### [äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ ](https://leetcode.cn/problems/kth-smallest-element-in-a-bst/)

- ä½¿ç”¨ [äºŒå‰æœç´¢æ ‘çš„é€šç”¨è§£æ³•](#äºŒå‰æœç´¢æ ‘çš„é€šç”¨è§£æ³•) å¾—åˆ°å‡åºæ•°ç»„ nodeList

- è¿”å› nodeList[k - 1]

### [äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®](https://leetcode.cn/problems/minimum-absolute-difference-in-bst/)

- ä½¿ç”¨ [äºŒå‰æœç´¢æ ‘çš„é€šç”¨è§£æ³•](#äºŒå‰æœç´¢æ ‘çš„é€šç”¨è§£æ³•) å¾—åˆ°å‡åºæ•°ç»„ nodeList

- éå† nodeListï¼Œè®¡ç®—ç›¸é‚»å…ƒç´ çš„å·®å€¼ï¼Œå–æœ€å°å€¼

  ```js
  let min = Number.MAX_SAFE_INTEGER

  for (let i = 1; i < nodeList.length; i++) {
    min = Math.min(min, nodeList[i] - nodeList[i - 1])
  }

  return min
  ```

### [äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨](https://leetcode.cn/problems/binary-search-tree-iterator/)

- åœ¨é¢˜ç›®æ‰€æä¾›çš„æ„é€ å‡½æ•° BSTIterator ä¸­ä½¿ç”¨ [äºŒå‰æœç´¢æ ‘çš„é€šç”¨è§£æ³•](#äºŒå‰æœç´¢æ ‘çš„é€šç”¨è§£æ³•) åˆå§‹åŒ–å¾—åˆ°å‡åºæ•°ç»„ nodeList

- æ„é€ å‡½æ•°ä¸­ï¼Œåˆå§‹åŒ–æŒ‡é’ˆ index ä¸º 0

## äºŒå‰æ ‘çš„å±æ€§

### [ç›¸åŒçš„æ ‘](https://leetcode.cn/problems/same-tree/)

- æ·±åº¦ä¼˜å…ˆæœç´¢ â€”â€” é€’å½’

- é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°

- é€’å½’ç»ˆæ­¢æ¡ä»¶

  - ä¸¤ä¸ªèŠ‚ç‚¹éƒ½ä¸ºç©ºï¼Œè¿”å› true

    ```js
    if (p === null && q === null) return true
    ```

  - ä¸¤ä¸ªèŠ‚ç‚¹ä¸­æœ‰ä¸€ä¸ªä¸ºç©ºï¼Œè¿”å› false

    ```js
    if (p === null || q === null) return false
    ```

  - ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ä¸ç›¸ç­‰ï¼Œè¿”å› false

    ```js
    if (p.val !== q.val) return false
    ```

- é€’å½’è°ƒç”¨

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œåˆ¤æ–­ p çš„å·¦å­æ ‘ä¸ q çš„å·¦å­æ ‘æ˜¯å¦ç›¸åŒ

    ```js
    isSameTree(p.left, q.left)
    ```

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œåˆ¤æ–­ p çš„å³å­æ ‘ä¸ q çš„å³å­æ ‘æ˜¯å¦ç›¸åŒ

    ```js
    isSameTree(p.right, q.right)
    ```

- è¿”å›å€¼ä¸ºé€’å½’è°ƒç”¨çš„ç»“æœä¸è¿ç®—
  ```js
  return isSameTree(p.left, q.left) && isSameTree(p.right, q.right)
  ```

### [å¯¹ç§°äºŒå‰æ ‘](https://leetcode.cn/problems/symmetric-tree/)

- æ·±åº¦ä¼˜å…ˆæœç´¢ â€”â€” é€’å½’

- å£°æ˜ä¸€ä¸ªè¾…åŠ©å‡½æ•° compareï¼Œç”¨äºåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸ºé•œåƒ

- é€’å½’ç»ˆæ­¢æ¡ä»¶

  - ä¸¤ä¸ªèŠ‚ç‚¹éƒ½ä¸ºç©ºï¼Œè¿”å› true

    ```js
    if (left === null && right === null) return true
    ```

  - ä¸¤ä¸ªèŠ‚ç‚¹ä¸­æœ‰ä¸€ä¸ªä¸ºç©ºï¼Œè¿”å› false

    ```js
    if (left === null || right === null) return false
    ```

  - ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ä¸ç›¸ç­‰ï¼Œè¿”å› false

    ```js
    if (left.val !== right.val) return false
    ```

- é€’å½’è°ƒç”¨

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œåˆ¤æ–­ left çš„å·¦å­æ ‘ä¸ right çš„å³å­æ ‘æ˜¯å¦ä¸ºé•œåƒ

    ```js
    compare(left.left, right.right)
    ```

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œåˆ¤æ–­ left çš„å³å­æ ‘ä¸ right çš„å·¦å­æ ‘æ˜¯å¦ä¸ºé•œåƒ

    ```js
    compare(left.right, right.left)
    ```

- è¿”å›å€¼ä¸ºé€’å½’è°ƒç”¨çš„ç»“æœä¸è¿ç®—

  ```js
  return compare(left.left, right.right) && compare(left.right, right.left)
  ```

- é€’å½’è°ƒç”¨è¾…åŠ©å‡½æ•° compareï¼Œåˆ¤æ–­ root çš„å·¦å­æ ‘ä¸ root çš„å³å­æ ‘æ˜¯å¦ä¸ºé•œåƒ

  ```js
  return compare(root.left, root.right)
  ```

### [è·¯ç»æ€»å’Œ](https://leetcode.cn/problems/path-sum/)

- æ·±åº¦ä¼˜å…ˆæœç´¢ â€”â€” é€’å½’

- å£°æ˜é€’å½’å‡½æ•° backTracking

  - å‚æ•°ä¸ºå½“å‰èŠ‚ç‚¹ rootã€è·ŸèŠ‚ç‚¹åˆ°çˆ¶èŠ‚ç‚¹çš„è·¯å¾„å’Œ sum

  - è¿”å›å€¼ä¸ºæ˜¯å¦å­˜åœ¨ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„å’Œç­‰äº targetSum

- é€’å½’ç»ˆæ­¢æ¡ä»¶

  - èŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å› false

    ```js
    if (root === null) return false
    ```

  - èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œè¿”å›è·¯å¾„å’Œæ˜¯å¦ç­‰äº targetSum

    ```js
    if (root && !root.left && !root.right) {
      return sum + root.val === targetSum
    }
    ```

- é€’å½’è°ƒç”¨

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œåˆ¤æ–­ root çš„å·¦å­æ ‘æ˜¯å¦å­˜åœ¨ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„å’Œç­‰äº targetSum

    ```js
    backTracking(root.left, sum + root.val)
    ```

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œåˆ¤æ–­ root çš„å³å­æ ‘æ˜¯å¦å­˜åœ¨ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„å’Œç­‰äº targetSum

    ```js
    backTracking(root.right, sum + root.val)
    ```

- è¿”å›å€¼ä¸ºé€’å½’è°ƒç”¨çš„ç»“æœæˆ–è¿ç®—

  ```js
  return (
    backTracking(root.left, sum + root.val) ||
    backTracking(root.right, sum + root.val)
  )
  ```

- é€’å½’è°ƒç”¨è¾…åŠ©å‡½æ•° backTrackingï¼Œåˆ¤æ–­ root æ˜¯å¦å­˜åœ¨ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„å’Œç­‰äº targetSum

  ```js
  return backTracking(root, 0)
  ```

### [æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ](https://leetcode.cn/problems/sum-root-to-leaf-numbers/)

- å…ˆåºéå† â€”â€” é€’å½’

- å£°æ˜æ•°ç»„ res æ”¶é›†æ¯ä¸€ä¸ªè·¯å¾„ç»„æˆçš„æ•°ç»„

- å£°æ˜é€’å½’å‡½æ•° backTracking

  - å‚æ•°ä¸ºå½“å‰èŠ‚ç‚¹ rootã€è·ŸèŠ‚ç‚¹åˆ°çˆ¶èŠ‚ç‚¹çš„è·¯å¾„æ•°ç»„ path

- é€’å½’ç»ˆæ­¢æ¡ä»¶ â€”â€” èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥è¿”å›

  ```js
  if (root === null) return
  ```

- å¦‚æœèŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå°† path åŠ å…¥ res ä¸­å¹¶è¿”å›

  ```js
  if (!root.left && !root.right) {
    res.push([...path, root.val])
    return
  }
  ```

- é€’å½’è°ƒç”¨

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œå°† root çš„å·¦å­æ ‘åŠ å…¥ path ä¸­

    ```js
    backTracking(root.left, [...path, root.val])
    ```

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œå°† root çš„å³å­æ ‘åŠ å…¥ path ä¸­

    ```js
    backTracking(root.right, [...path, root.val])
    ```

- é€’å½’è°ƒç”¨è¾…åŠ©å‡½æ•° backTrackingï¼Œå°† root åŠ å…¥ path ä¸­

  ```js
  backTracking(rootï¼Œ'')
  ```

### [äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](https://leetcode.cn/problems/binary-tree-maximum-path-sum/)

- ä¾èµ–å·¦å³å­æ ‘çš„æœ€å¤§è·¯å¾„å’Œ â€”â€” ååºéå†

- å£°æ˜é€’å½’å‡½æ•° DFS

  - å‚æ•°ä¸ºå½“å‰èŠ‚ç‚¹ root

  - è¿”å›å€¼ä¸º **ä»¥å½“å‰èŠ‚ç‚¹ä¸ºèµ·ç‚¹** çš„æœ€å¤§è·¯å¾„å’Œ

- é€’å½’ç»ˆæ­¢æ¡ä»¶ â€”â€” èŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å› 0

  ```js
  if (root === null) return 0
  ```

- ååºéå†

  - å…ˆåè·å–å·¦å­æ ‘çš„æœ€å¤§è·¯å¾„å’Œ leftMax å’Œå³å­æ ‘çš„æœ€å¤§è·¯å¾„å’Œ rightMax

    ```js
    const leftMax = DFS(root.left)
    const rightMax = DFS(root.right)
    ```

  - æ ¹æ®å·¦å³å­æ ‘çš„æœ€å¤§è·¯å¾„å’Œ leftMax å’Œ rightMaxï¼Œæ›´æ–°æ€»æœ€å¤§è·¯å¾„å’Œ res

    ```js
    res = Math.max(res, leftMax + root.val + rightMax)
    ```

  - è®¡ç®—ä»¥å½“å‰èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„æœ€å¤§è·¯å¾„å’Œ â€”â€” å¦‚æœå­æ ‘çš„æœ€å¤§è·¯å¾„å’Œå°äº 0ï¼Œè¿”å› 0ï¼Œå¦åˆ™è¿”å›å­æ ‘çš„æœ€å¤§è·¯å¾„å’ŒåŠ ä¸Šå½“å‰èŠ‚ç‚¹çš„å€¼ â€”â€” **èˆå¼ƒè´Ÿä½œç”¨çš„è·¯å¾„**

    ```js
    const max = Math.max(0, leftMax, rightMax) + root.val

    return max > 0 ? max : 0
    ```

- é€’å½’è°ƒç”¨è¾…åŠ©å‡½æ•° DFSï¼Œè·å–ä»¥ root ä¸ºèµ·ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå¹¶è¿”å›æœ€ç»ˆç»“æœ res

  ```js
  DFS(root)

  return res
  ```

### [äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/)

- ä¾èµ–å·¦å³å­æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ â€”â€” ååºéå†

- å£°æ˜é€’å½’å‡½æ•° isAncestor

  - å‚æ•°ä¸ºå½“å‰èŠ‚ç‚¹ rootã€ä¸¤ä¸ªèŠ‚ç‚¹ pã€q

  - è¿”å›å€¼ â€”â€” å½“å‰èŠ‚ç‚¹æ˜¯å¦æ˜¯èŠ‚ç‚¹ p æˆ–è€… q çš„ç¥–å…ˆ

  - é€’å½’ç»ˆæ­¢æ¡ä»¶ â€”â€” èŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å› false

    ```js
    if (root === null) return false
    ```

- ååºéå†

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œåˆ¤æ–­ root çš„å·¦ã€å³å­æ ‘æ˜¯å¦æ˜¯èŠ‚ç‚¹ p æˆ–è€… q çš„ç¥–å…ˆ

    ```js
    const [left, right] = [
      isAncestor(root.left, p, q),
      isAncestor(root.right, p, q),
    ]
    ```

  - å¦‚æœ root çš„å·¦ã€å³å­æ ‘éƒ½æ˜¯èŠ‚ç‚¹ p æˆ–è€… q çš„ç¥–å…ˆ â€”â€” æ›´æ–° res ä¸º root

    ```js
    if (left && right) {
      ancestor = root
    }
    ```

  - å¦‚æœ root çš„å·¦ã€å³å­æ ‘å­˜åœ¨ä¸€ä¸ªèŠ‚ç‚¹æ˜¯èŠ‚ç‚¹ p æˆ–è€… q çš„ç¥–å…ˆä¸”root æ˜¯èŠ‚ç‚¹ p æˆ–è€… q æœ¬èº« â€”â€” æ›´æ–° res ä¸º root

    ```js
    if ((left || right) && [p.val, q.val].includes(root.val)) {
      ancestor = root
    }
    ```

  - è¿”å›å½“å‰èŠ‚ç‚¹ root æ˜¯å¦æ˜¯èŠ‚ç‚¹ p æˆ–è€… q çš„ç¥–å…ˆ

    ```js
    return left || right || [p.val, q.val].includes(root.val)
    ```

- é€’å½’è°ƒç”¨è¾…åŠ©å‡½æ•° isAncestorï¼Œè·å–ä»¥ root ä¸ºèµ·ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆå¹¶è¿”å›æœ€ç»ˆç»“æœ ancestor

  ```js
  isAncestor(root, p, q)
  return ancestor
  ```

## äºŒå‰æ ‘çš„ä¿®æ”¹ä¸æ„é€ 

### [ç¿»è½¬äºŒå‰æ ‘](https://leetcode.cn/problems/invert-binary-tree/)

- æ·±åº¦ä¼˜å…ˆæœç´¢ â€”â€” é€’å½’

- é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°

- é€’å½’ç»ˆæ­¢æ¡ä»¶ â€”â€” ç‚¹ä¸ºç©ºï¼Œè¿”å› null

  ```js
  if (root === null) return null
  ```

- é€’å½’è°ƒç”¨

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œç¿»è½¬ root çš„å·¦å­æ ‘

    ```js
    const left = invertTree(root.left)
    ```

  - é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œç¿»è½¬ root çš„å³å­æ ‘

    ```js
    const right = invertTree(root.right)
    ```

- å°† root çš„å·¦å­æ ‘èµ‹å€¼ä¸º right & å°† root çš„å³å­æ ‘èµ‹å€¼ä¸º left

  ```js
  root.left = right
  root.right = left
  ```

### [ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘](https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/)

- ğŸŒŸå‰åºéå† preorder = [æ ¹èŠ‚ç‚¹, å·¦å­æ ‘çš„å‰åºéå†, å³å­æ ‘å‰åºéå†]

- ğŸŒŸä¸­åºéå† inorder = [å·¦å­æ ‘çš„ä¸­åºéå†, æ ¹èŠ‚ç‚¹, å³å­æ ‘çš„ä¸­åºéå†]

- ä»å‰åºéå† preorder ä¸­è·å–æ ¹èŠ‚ç‚¹å¹¶åœ¨ä¸­åºéå†ä¸­è·å–æ ¹èŠ‚ç‚¹çš„ä¸‹æ ‡ index â€”â€” Array.prototype.indexOf()

- é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œæ„å»ºå·¦å­æ ‘

  - ä½¿ç”¨ Array.prototype.slice() è·å–å·¦å­æ ‘çš„å‰åºéå† & ä¸­åºéå†

  - å·¦å­æ ‘çš„å‰åºéå†çš„é•¿åº¦ä¸º index â€”â€” preorder.slice(1, index + 1)

  - å·¦å­æ ‘çš„ä¸­åºéå†çš„é•¿åº¦ä¸º index â€”â€” inorder.slice(0, index)

    ```js
    root.left = buildTree(preorder.slice(1, index + 1), inorder.slice(0, index))
    ```

- é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œæ„å»ºå³å­æ ‘

  - ä½¿ç”¨ Array.prototype.slice() è·å–å³å­æ ‘çš„å‰åºéå† & ä¸­åºéå†

  - å³å­æ ‘çš„å‰åºéå†çš„é•¿åº¦ä¸º preorder.length - index â€”â€” preorder.slice(index + 1)

  - å³å­æ ‘çš„ä¸­åºéå†çš„é•¿åº¦ä¸º inorder.length - index â€”â€” inorder.slice(index + 1)

    ```js
    root.right = buildTree(preorder.slice(index + 1), inorder.slice(index + 1))
    ```

- è¿”å›æ ¹èŠ‚ç‚¹ root

### [ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘](https://leetcode.cn/problems/construct-binary-tree-from-inorder-and-postorder-traversal/)

- ğŸŒŸä¸­åºéå† inorder = [å·¦å­æ ‘çš„ä¸­åºéå†, æ ¹èŠ‚ç‚¹, å³å­æ ‘çš„ä¸­åºéå†]

- ğŸŒŸååºéå† postorder = [å·¦å­æ ‘çš„ååºéå†, å³å­æ ‘çš„ååºéå†, æ ¹èŠ‚ç‚¹]

- ä»ååºéå† postorder ä¸­è·å–æ ¹èŠ‚ç‚¹å¹¶åœ¨ä¸­åºéå†ä¸­è·å–æ ¹èŠ‚ç‚¹çš„ä¸‹æ ‡ index â€”â€” Array.prototype.indexOf()

- é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œæ„å»ºå·¦å­æ ‘

  - ä½¿ç”¨ Array.prototype.slice() è·å–å·¦å­æ ‘çš„ä¸­åºéå† & ååºéå†

  - å·¦å­æ ‘çš„ä¸­åºéå†çš„é•¿åº¦ä¸º index â€”â€” inorder.slice(0, index)

  - å·¦å­æ ‘çš„ååºéå†çš„é•¿åº¦ä¸º index â€”â€” postorder.slice(0, index)

    ```js
    root.left = buildTree(inorder.slice(0, index), postorder.slice(0, index))
    ```

- é€’å½’è°ƒç”¨è‡ªèº«å‡½æ•°ï¼Œæ„å»ºå³å­æ ‘

  - ä½¿ç”¨ Array.prototype.slice() è·å–å³å­æ ‘çš„ä¸­åºéå† & ååºéå†

  - å³å­æ ‘çš„ä¸­åºéå†çš„é•¿åº¦ä¸º inorder.length - index - 1 â€”â€” inorder.slice(index + 1)

  - å³å­æ ‘çš„ååºéå†çš„é•¿åº¦ä¸º postorder.length - index - 1 â€”â€” postorder.slice(index, postorder.length - 1)

    ```js
    root.right = buildTree(
      inorder.slice(index + 1),
      postorder.slice(index, postorder.length - 1)
    )
    ```

- è¿”å›æ ¹èŠ‚ç‚¹ root

### [äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨](https://leetcode.cn/problems/flatten-binary-tree-to-linked-list/)

- æ ¹æ®é¢˜ç›®è¦æ±‚ä½¿ç”¨ **å‰åºéå†** çš„é¡ºåºè¿›è¡Œå±•å¼€

- å£°æ˜ä¸€ä¸ªæ•°ç»„ list ç”¨äºå­˜å‚¨å‰åºéå†çš„ç»“æœ

- éå†æ•°ç»„ list å°†æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘èµ‹å€¼ä¸º null & å°†æ¯ä¸ªèŠ‚ç‚¹çš„å³å­æ ‘èµ‹å€¼ä¸º list ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹

  ```js
  for (let i = 0; i < list.length - 1; i++) {
    list[i].left = null
    list[i].right = list[i + 1]
  }
  ```
